function myMenu(t){var i=t.find("#menu-btn"),s=t.find("#menu-close"),a=parseInt(document.documentElement.clientWidth),n=parseInt(window.innerWidth),o=$("html");i.click(function(){var e=n-a;o.toggleClass("lock").css("padding-right",e),t.toggleClass("open"),i.toggleClass("is-active"),s.click(function(){o.removeClass("lock").css("padding-right",0),t.removeClass("open"),i.removeClass("is-active")})})}function cityScroll(i){i.find('a[href^="#"]').click(function(e){e.preventDefault();var t=$(this).attr("href");$(".buy_scroll").animate({scrollLeft:$(t).position().left},500),i.find('a[href^="#"]').removeClass("active"),$(this).addClass("active")})}function modal(e){$(".modal-trigger").on("click",function(){var e=$(this).data("modal");modalShow($(e))})}function modalShow(t){var e=$("html"),i=t.find($(".modal_close")),s=parseInt(document.documentElement.clientWidth),a=parseInt(window.innerWidth)-s;t.show(0,function(){setTimeout(t.addClass("open"),500)}),e.addClass("lock").css("padding-right",a),i.on("click",function(){modalHide(t)}),t.on("click",function(e){0===t.has(e.target).length&&modalHide(t)})}function modalHide(e){var t=$("html");e.removeClass("open"),e.hide(),t.removeClass("lock").css("padding-right",0)}function dropdown(){var a=$(".js-drop-trigger"),n=$(".js-dropdown"),o=$(".js-dropdown-wrapper"),c=$(".js-drop_link"),r=[];a.each(function(e,t){r.push($(this).find("span").text()),$(this).data("index",e)}),a.click(function(){$(this).hasClass("active")?(a.removeClass("active"),n.removeClass("open")):(a.removeClass("active"),n.removeClass("open"),$(this).next(n).addClass("open"),$(this).addClass("active"))}),$(document).mouseup(function(e){o.is(e.target)||0!==o.has(e.target).length||(a.removeClass("active"),n.removeClass("open"))}),c.click(function(){var e=$(this).text(),t=$(this).find("img").attr("src");if($(this).hasClass("dropdown_link--reset")){var i=$(this).closest(o).find(a).data("index"),s=$(this).closest(o).find("input");$(this).closest(o).find(c).removeClass("active"),s.prop("checked",!1),$(this).closest(o).find(a).removeClass("select").find("span").text(r[i]),a.removeClass("active"),n.removeClass("open")}else $(this).hasClass("item-dropdown_label--colors")?($(this).closest(o).find(c).removeClass("active"),$(this).addClass("active"),$(this).closest(o).find(a).find("img").attr("src",t),console.log("true")):($(this).closest(o).find(c).removeClass("active"),$(this).addClass("active"),$(this).closest(o).find(a).addClass("select").find("span").text(e)),a.removeClass("active"),n.removeClass("open")})}function filtersBtn(){var e=$(".filters-btn"),t=$("#filters"),i=$("#close-filters");e.mouseup(function(){e.hasClass("active")?(e.removeClass("active"),t.removeClass("open")):(e.addClass("active"),t.addClass("open"))}),i.click(function(){e.removeClass("active"),t.removeClass("open")})}function inputCount(){var e=$(".count"),t=e.find(".count-minus"),i=e.find(".count-result").find("input"),s=e.find(".count-plus"),a=0;t.click(function(){1<a&&(a--,i.val(a))}),s.click(function(){a<999&&(a++,i.val(a))})}function movement(e,t,i){function s(){$(window).width()<i?t.after(e):a.after(e)}var a=$('<div id="moveBack-'+e.attr("class")+'"></div>');e.before(a),s(),$(window).resize(function(){s()})}function itemTabs(){function e(){if($(window).width()>=breakLg){var e=s.outerHeight(),t=$(".item-tabs_dropdown.open").outerHeight();i.height(e+t)}}var i=$("#item-tabs"),s=$(".item-tabs_triggers"),t=i.find(".item-tabs_trigger"),a=i.find(".item-tabs_dropdown");t.each(function(e,t){$(this).attr("data-index",e)});var n=$(".item-tabs_trigger[data-index=0]");e(),t.click(function(){$(this).hasClass("active")?$(window).width()<breakLg&&(t.removeClass("active"),a.removeClass("open")):(t.removeClass("active"),a.removeClass("open"),$(this).addClass("active"),$(this).next(a).addClass("open")),e()}),$(window).resize(function(){$(window).width()>=breakLg?(t.removeClass("active"),a.removeClass("open"),n.addClass("active").next(a).addClass("open"),e()):i.removeAttr("style")})}function easyDropdown(e,t){var i=t.find(".js-close");e.click(function(){e.hasClass("active")?(e.removeClass("active"),t.removeClass("open")):($(this).addClass("active"),t.addClass("open"))}),i.click(function(){e.removeClass("active"),t.removeClass("open")})}function inputFocus(){var e=$(".js-input-focus");e.focus(function(){$(this).parent().addClass("active")}),e.focusout(function(){""==$(this).val()&&$(this).parent().removeClass("active")})}function calcPrice(){$("#calc");var e=$("#calc-minus"),t=$("#calc-plus"),i=$("#calc-result"),s=$("#reset"),a=$("#one-price"),n=$(".js-all-price"),o=$("#delivery-price"),c=$("#result-price"),r=$("#all-price-input"),l=$("#delivery-price-input"),d=$("#result-price-input"),v=$("#delivery-buttons input"),m=1;o.text($("#delivery-buttons input:checked").data("price")),n.text(a.text()*m),r.val(a.text()*m),c.text(a.text()*m+parseInt(o.text())),l.val(o.text()),d.val(c.text()),e.click(function(){1<m&&(m--,i.val(m),n.text(a.text()*m),c.text(a.text()*m+parseInt(o.text())),r.val(a.text()*m),l.val(o.text()),d.val(c.text()))}),t.click(function(){m<999&&(m++,i.val(m),n.text(a.text()*m),c.text(a.text()*m+parseInt(o.text())),r.val(a.text()*m),l.val(o.text()),d.val(c.text()))}),s.click(function(){m=1,i.val(m),n.text(a.text()*m),c.text(a.text()*m+parseInt(o.text())),r.val(a.text()*m),l.val(o.text()),d.val(c.text())}),v.change(function(){n.text(a.text()*m),c.text(a.text()*m+parseInt(o.text())),r.val(a.text()*m),l.val(o.text()),d.val(c.text()),o.text($("#delivery-buttons input:checked").data("price"))})}function cardsSlider(e){e.slick({slidesToShow:4,slidesToScroll:2,dots:!1,arrows:!1,infinite:!0,swipe:!1,draggable:!1,responsive:[{breakpoint:breakSm,settings:{slidesToShow:2,swipe:!0,draggable:!0}}]}),$("#cards-slider-prev").click(function(){e.slick("slickPrev")}),$("#cards-slider-next").click(function(){e.slick("slickNext")})}function itemSlider(e,t){e.slick({slidesToShow:4,slidesToScroll:1,asNavFor:t,dots:!1,arrows:!0,prevArrow:'<div class="item-images_controll item-images_prev"><img src="img/arrow-slider.svg"></div>',nextArrow:'<div class="item-images_controll item-images_next"><img src="img/arrow-slider.svg"></div>',focusOnSelect:!0,infinite:!0,vertical:!0}),t.slick({slidesToShow:1,slidesToScroll:1,dots:!1,arrows:!1,fade:!0,asNavFor:e,responsive:[{breakpoint:breakMd,settings:{dots:!0,fade:!1}}]})}var breakXl=1400,breakLg=1260,breakMd=1050,breakSm=769,breakXs=500;$(document).ready(function(){$('a[href="#"]').click(function(e){e.preventDefault()}),myMenu($("#menu")),cityScroll($("#buySelect")),$("[name=tel]").inputmask("+7(999)999 99 99",{showMaskOnHover:!1}),$(".js-match-height").matchHeight(),dropdown(),filtersBtn(),inputFocus(),autosize($("textarea")),modal(),$(".js-scrollbar").scrollbar(),$().fancybox({selector:"#item-images_slider2 .slick-slide:not(.slick-cloned)",backFocus:!1,afterShow:function(e,t){$("#item-images_slider2").slick("slickGoTo",parseInt(t.index),!0),console.log(t.opts.$orig)},buttons:["zoom","close"]}),$(document).on("click",".slick-cloned",function(e){var t=$(this).parent().children(".slick-slide:not(.slick-cloned)");return t.eq(($(this).attr("data-slick-index")||0)%t.length).trigger("click.fb-start",{$trigger:$(this)}),!1}),cardsSlider($("#cards-slider")),itemSlider($("#item-images_slider1"),$("#item-images_slider2")),inputCount(),movement($(".item-images"),$("#moveItem"),breakMd),movement($(".order_price-one"),$(".item-count"),breakSm),movement($(".order-map_map"),$(".order-map_mobileto"),breakSm),itemTabs(),easyDropdown($("#item-map-open"),$(".item-map_dropdown")),easyDropdown($(".location-wrapper"),$(".location-dropdown")),$('img[src$=".svg"]').each(function(){var i=$(this),s=i.attr("class"),e=i.attr("src");$.get(e,function(e){var t=$(e).find("svg");void 0!==s&&(t=t.attr("class",s+" replaced-svg")),!(t=t.removeAttr("xmlns:a")).attr("viewBox")&&t.attr("height")&&t.attr("width")&&t.attr("viewBox","0 0 "+t.attr("height")+" "+t.attr("width")),i.replaceWith(t)},"xml")}),$(".data-img").each(function(e,t){var i=$(this).data("img");$(this).css({"background-image":"url("+i+")"})})}),calcPrice();